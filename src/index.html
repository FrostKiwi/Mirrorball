<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Magic Mirrorball</title>
	<link rel="icon" href="style/img/favicon.svg">
	<link rel="stylesheet" href="style/style.css">
	<link rel="stylesheet" href="style/card.css">
	<link rel="stylesheet" href="style/gui.css">
	<link rel="stylesheet" href="style/tab.css">
</head>

<body>
	<canvas></canvas>
	<div id="menu" class="panel">
		<div class="tab">
			<button class="tablinks" id="tab_about">
				What's this?
			</button>
			<button class="tablinks" id="tab_media">
				Media gallery
			</button>
			<button class="tablinks" id="tab_user">
				User Submissions
			</button>
			<button class="tablinks" id="tab_connect">
				Userfile or device
			</button>
			<button class="closeTab" id="tab_close">
				<img src="style/img/xmark.svg">
			</button>
		</div>

		<div id="about" class="tabcontent">
			<iframe width="100%" height="500" src="https://www.youtube.com/embed/rJPKTCdk-WI" title="YouTube video player"
				frameborder="0"
				allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
				allowfullscreen></iframe>
		</div>

		<div id="media" class="tabcontent"></div>
		<div id="media_user" class="tabcontent"></div>
		<div id="connect" class="tabcontent">
			<div id="upload-image" class="card">
				<div class="card-header">
					<img src="style/img/upload.svg" class="card-icon">
					<h2 class="card-title">Image</h2>
				</div>
				<img class="card-image" src="style/img/file_image.svg" alt="Thumbnail">
				<div class="card-description">
					<p class="card-field">
						<input type="checkbox" id="image_multi" name="mult_img">
						<label for="mult_img">Multi-Source Image</label><br><br>
						<span class="value">
							Load an image into the WebApp<br>
							or take photo with smartphone
						</span><br>
						The file stays on your device,<br>
						nothing is uploaded to a server
					</p>
				</div>
			</div>
			<div id="upload-video" class="card">
				<div class="card-header">
					<img src="style/img/upload.svg" class="card-icon">
					<h2 class="card-title">Video</h2>
				</div>
				<img class="card-image" src="style/img/file_video.svg" alt="Thumbnail">
				<div class="card-description">
					<p class="card-field">
						<input type="checkbox" id="vid_multi" name="mult_vid">
						<label for="mult_vid">Multi-Source Feed</label><br><br>
						<span class="value">
							Load a video into the WebApp
						</span><br>
						The file stays on your device,<br>
						nothing is uploaded to a server<br>
					</p>
				</div>
			</div>
			<div id="webcam" class="card">
				<div class="card-header">
					<img src="style/img/upload.svg" class="card-icon">
					<h2 class="card-title">Webcam</h2>
				</div>
				<img id="hide_on_device" class="card-image" src="style/img/camera.svg" alt="Thumbnail">
				<div class="card-description">
					<p id="hide_on_device" class="card-field">
						<span class="value">
							Connect a webcam or capture card</span><br>
						Requests a full list of devices
					</p>
					<p id="show_on_device" class="card-field hidden">
						<span class="value">
							Select camera
						</span>
					</p>
					<select id="webcams" class="list hidden">
					</select>
					<button id="start" type="button" class="stream hidden">Start stream</button>
					<p id="show_on_device" class="card-field hidden">
						<input type="checkbox" id="dev_multi" name="mult_dev">
						<label for="mult_dev">Multi-Source Feed</label><br><br>

						This will start a stream with the <br>
						highest possible resolution, <br>
						regardless of framerate. <br>
						On smartphones this may run <br>
						at resolutions in excess of 4k
					</p>
				</div>
			</div>
		</div>
	</div>

	<div id="spinner" class="panel loader">
		<img class="clock" src="style/img/clock.svg">
		<p id="statusMSG">Loading</p>
		<p id="filesize">&nbsp;</p>
	</div>
	<script type="module" src="js/main.js"></script>

	<div id="message" class="panel">
		<div class="tab">
			<button id="tab" style="width: 100%;">
				WebGL context lost
			</button>
			<button class="closeTab" id="message_close">
				<img src="style/img/xmark.svg">
			</button>
		</div>
		<div id="msg" class="msgcontent">
			<img width="25%" src="style/img/kiwi_sad.svg"><br>
			Looks like the OS of your device crashed the WebGL Context.
			Probably due to your Graphics Memory being near full.
			Reload the page and retry the media you chose. If it still doesn't work stick to lower resolution images and videos.
		</div>
	</div>
</body>

</html>